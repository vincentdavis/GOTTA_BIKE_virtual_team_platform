{% extends "base.html" %}

{% block title %}Delete Account - The Coalition{% endblock %}

{% block content %}
  <div class="max-w-md mx-auto">
    <div class="card bg-base-200 shadow-xl">
      <div class="card-body">
        <h2 class="card-title text-2xl text-error mb-4">Delete Account</h2>

        <div class="alert alert-warning mb-6">
          <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none"
               viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
          </svg>
          <div>
            <h3 class="font-bold">Warning!</h3>
            <p class="text-sm">This action cannot be undone. All your data will be permanently deleted.</p>
          </div>
        </div>

        <p class="mb-6">
          Are you sure you want to delete your account? This will remove:
        </p>

        <ul class="list-disc list-inside mb-6 text-base-content/70">
          <li>Your profile information and settings</li>
          <li>Your Discord OAuth connection</li>
          <li>Your Zwift verification status</li>
          <li>Your Race Verified records</li>
          <li>Any data connections (Google Sheets exports) you created</li>
        </ul>

        <form method="post" action="{% url 'accounts:profile_delete' %}">
          {% csrf_token %}
          <div class="form-control mb-6">
            <label class="label">
              <span class="label-text">Type <strong>Delete</strong> to confirm:</span>
            </label>
            <input type="text"
                   name="confirmation"
                   class="input input-bordered input-error"
                   placeholder="Delete"
                   autocomplete="off"
                   required/>
          </div>
          <div class="flex gap-4">
            <button type="submit" class="btn btn-error">
              Yes, Delete My Account
            </button>
            <a href="{% url 'accounts:profile' %}" class="btn btn-ghost">
              Cancel
            </a>
          </div>
        </form>
      </div>
    </div>
  </div>
{% endblock %}
